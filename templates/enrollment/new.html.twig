{% extends 'base.html.twig' %}

{% block title %}Create Enrollment — CompileX{% endblock %}

{% block body %}
<script src="https://cdn.tailwindcss.com"></script>
<script>
  tailwind.config = { darkMode: 'class' };
</script>

<div id="app" class="flex min-h-screen bg-slate-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100">

  <div class="flex-1 flex flex-col min-h-screen">

    <header class="fixed top-0 left-0 w-full z-40 bg-slate-800 text-white dark:bg-gray-800 flex items-center justify-between px-6 py-3 shadow-md">
      <h1 class="text-xl font-semibold text-blue-400 dark:text-blue-300 tracking-tight">
        CompileX — Admin
      </h1>
    </header>

    <div class="h-16"></div>

    <main class="flex-1 p-6 md:p-8 max-w-4xl mx-auto w-full space-y-6">

      <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3">
        <div>
          <h1 class="text-3xl font-semibold">Create Enrollment</h1>
          <p class="text-sm text-slate-600 dark:text-gray-400 mt-1">
            Assign a student to a subject and manage enrollment details.
          </p>
        </div>

        <a href="{{ path('app_enrollment_index') }}"
           class="inline-flex items-center px-4 py-2 text-sm font-semibold rounded-xl border border-slate-300 dark:border-gray-600 bg-white dark:bg-gray-900 hover:bg-slate-50 dark:hover:bg-gray-800">
          ← Back to list
        </a>
      </div>

      {% for label, messages in app.flashes %}
        {% for message in messages %}
          <div class="rounded-xl border px-4 py-3 text-sm
                      {% if label == 'success' %}
                        bg-green-50 border-green-300 text-green-800 dark:bg-green-900/40 dark:border-green-700 dark:text-green-200
                      {% elseif label == 'error' %}
                        bg-red-50 border-red-300 text-red-800 dark:bg-red-900/40 dark:border-red-700 dark:text-red-200
                      {% else %}
                        bg-slate-50 border-slate-300 text-slate-800 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200
                      {% endif %}">
            {{ message }}
          </div>
        {% endfor %}
      {% endfor %}

      <div class="bg-white dark:bg-gray-800 border border-slate-200 dark:border-gray-700 rounded-xl shadow-sm p-6">
        {% include 'enrollment/_form.html.twig' with { button_label: 'Create Enrollment' } %}
      </div>

    </main>
  </div>
</div>
{% endblock %}
